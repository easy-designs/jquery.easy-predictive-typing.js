/* (c) Aaron Gustafson (@AaronGustafson). MIT License. http://github.com/easy-designs/jquery.easy-predictive-typing.js */
(function(){var f="predictive-",d=f+"endpoint",g=f+(new Date()).getTime()+"-",b=["get","post"],a=$("<datalist/>"),e=$("<option/>"),c=$("body");$("input[data-"+d+"]").each(function(h){var j=g+h;a.clone().attr("id",j).appendTo(c);$(this).attr("list",j)}).on("keyup",function(m){var n=$(this),k=$("#"+n.attr("list")),p=n.data(d),j=n.data(f+"var-name")||"query",h=n.data(f+"method"),i=n.val(),o=m.which,l={};if($.inArray(h,b)<0){h=b[0]}l[j]=i;if(o!=38&&o!=40&&o!=9&&o!=13){$[h](p,l,function(q){if(q.options&&q.options instanceof Array){k.empty();$(q.options).each(function(r,s){k.append(e.clone().val(s).text(s))});k.trigger("update")}},"json")}})})();